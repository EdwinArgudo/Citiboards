(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e){e.exports=JSON.parse('[{"site":"Central Park","city":"New York","image":"https://upload.wikimedia.org/wikipedia/commons/1/13/Central_Park_-_The_Pond_%2848377220157%29.jpg","latitude":40.7829,"longitude":-73.9654},{"site":"Washington Square Park","city":"New York","image":"https://upload.wikimedia.org/wikipedia/commons/a/a2/20140526-WashingtonArch_SouthFace_Night.jpg","latitude":40.7308,"longitude":-73.9973},{"site":"Oculus - World Trade Center Station","city":"New York","image":"https://upload.wikimedia.org/wikipedia/commons/b/b2/Oculus_World_Trade_Center_-_August_18_2016.jpg","latitude":40.7126,"longitude":-74.0099},{"site":"Rockefeller Center","city":"New York","image":"https://upload.wikimedia.org/wikipedia/commons/4/41/Rockefeller-ice.jpg","latitude":40.7587,"longitude":-73.9787},{"site":"Columbus Circle","city":"New York","image":"https://wp.zillowstatic.com/streeteasy/2/GettyImages-731852029-1-c83147.jpg","latitude":40.7675,"longitude":-73.9819},{"site":"Brooklyn Bridge","city":"New York","image":"https://upload.wikimedia.org/wikipedia/commons/f/f0/Brooklyn_Bridge_Postdlf.jpg","latitude":40.7061,"longitude":-73.9969},{"site":"Hudson Yards","city":"New York","image":"https://upload.wikimedia.org/wikipedia/commons/f/f6/Hudson_Yards_Plaza_March_2019_53.jpg","latitude":40.7561,"longitude":-74.0035},{"site":"Williamsburg Bridge","city":"New York","image":"https://upload.wikimedia.org/wikipedia/commons/e/e9/Above_Williamsburg_Bridge_crop.jpg","latitude":40.7136,"longitude":-73.9724},{"site":"Queensboro Bridge","city":"New York","image":"https://upload.wikimedia.org/wikipedia/commons/8/83/Queensboro_Bridge_from_Manhattan_side.jpg","latitude":40.753,"longitude":-73.947},{"site":"Gantry Plaza State Park","city":"New York","image":"https://qns.com/wp-content/uploads/2015/11/Gantry_Plaza_State_Park_Long_Island_City_01_9431668991-NEW11.jpg","latitude":40.7455,"longitude":-73.955}]')},39:function(e,t,a){e.exports=a(69)},66:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),o=a.n(l),s=a(1),c=a(2),i=a(4),m=a(3),u=a(5),d=a(6),p=a(14),h=a(7),b=a.n(h),E=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"jumbotron"},r.a.createElement("h1",{class:"display-3"},"Citiboard is ..."),r.a.createElement("p",{class:"lead"},"This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information."),r.a.createElement("hr",{class:"my-4"}),r.a.createElement("p",null,"It uses utility classes for typography and spacing to space content out within the larger container."),r.a.createElement("p",{class:"lead"},r.a.createElement("a",{class:"btn btn-primary btn-lg",href:"#",role:"button"},"Learn more")))}}]),t}(n.Component),f=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={username:"",email:"",first_name:"",last_name:"",phone_number:"",payment_info:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/v1/user/profile").then((function(t){var a=t.data;e.setState({username:a.username,email:a.email,first_name:a.first_name,last_name:a.last_name,phone_number:a.phone_number,credit_card:a.credit_card})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{class:"jumbotron"},r.a.createElement("h1",{class:"display-3"},"User Profile"),r.a.createElement("div",{class:"form-group"},r.a.createElement("fieldset",null,r.a.createElement("label",{class:"control-label",for:"readOnlyInput"},"Username"),r.a.createElement("input",{class:"form-control",type:"text",placeholder:this.state.username,readonly:""})),r.a.createElement("fieldset",null,r.a.createElement("label",{class:"control-label",for:"readOnlyInput"},"Email"),r.a.createElement("input",{class:"form-control",type:"text",placeholder:this.state.email,readonly:""})),r.a.createElement("fieldset",null,r.a.createElement("label",{class:"control-label",for:"readOnlyInput"},"First Name"),r.a.createElement("input",{class:"form-control",type:"text",placeholder:this.state.first_name,readonly:""})),r.a.createElement("fieldset",null,r.a.createElement("label",{class:"control-label",for:"readOnlyInput"},"Last Name"),r.a.createElement("input",{class:"form-control",type:"text",placeholder:this.state.last_name,readonly:""})),r.a.createElement("fieldset",null,r.a.createElement("label",{class:"control-label",for:"readOnlyInput"},"Phone Number"),r.a.createElement("input",{class:"form-control",type:"text",placeholder:this.state.phone_number,readonly:""})),r.a.createElement("fieldset",null,r.a.createElement("label",{class:"control-label",for:"readOnlyInput"},"Payment Info"),r.a.createElement("input",{class:"form-control",type:"text",placeholder:this.state.credit_card,readonly:""}))),r.a.createElement("p",{class:"lead"},r.a.createElement(d.b,{to:"/logout"},r.a.createElement("a",{class:"btn btn-primary btn-lg",href:"#",role:"button"},"Log Out"))))}}]),t}(n.Component),g=a(9),v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(g.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),b.a.post("/api/v1/user/authenticate",{username:a.state.username,password:a.state.password}).then((function(e){if(e.data.error)throw new Error(e.data.error);a.setState({redirect:!0})})).catch((function(e){console.error(e),alert(e.message)}))},a.state={username:"",password:"",redirect:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(p.a,{to:"/profile"}):r.a.createElement("div",{class:"jumbotron"},r.a.createElement("h1",{class:"display-3"},"Login"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("fieldset",null,r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"username",class:"form-control",name:"username",placeholder:"Enter Username",value:this.state.username,onChange:this.handleInputChange,required:!0})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter Password",value:this.state.password,onChange:this.handleInputChange,required:!0,class:"form-control"})),r.a.createElement("input",{type:"submit",value:"Submit",class:"btn btn-primary"}))))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(g.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),b.a.post("/api/v1/user/register",{username:a.state.username,password:a.state.password,first_name:a.state.first_name,last_name:a.state.last_name,email:a.state.email,phone_number:a.state.phone_number,credit_card:a.state.credit_card}).then((function(e){if(e.data.error)throw new Error(e.data.error);a.setState({redirect:!0})})).catch((function(e){console.error(e),alert("Error registering please try again")}))},a.state={username:"",password:"",first_name:"",last_name:"",email:"",phone_number:"",credit_card:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(p.a,{to:"/profile"}):r.a.createElement("div",{class:"jumbotron"},r.a.createElement("h1",{class:"display-3"},"Register"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("fieldset",null,r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"username",class:"form-control",name:"username",placeholder:"Enter Username",value:this.state.username,onChange:this.handleInputChange,required:!0}),r.a.createElement("small",{class:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",Object(g.a)({type:"password",class:"form-control",name:"password",placeholder:"Enter Password",value:this.state.password,onChange:this.handleInputChange,required:!0},"class","form-control"))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"First Name"),r.a.createElement("input",{type:"first_name",class:"form-control",name:"first_name",placeholder:"Enter First Name",value:this.state.first_name,onChange:this.handleInputChange,required:!0})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Last Name"),r.a.createElement("input",{type:"last_name",name:"last_name",class:"form-control",placeholder:"Enter Last Name",value:this.state.last_name,onChange:this.handleInputChange,required:!0})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",name:"email",class:"form-control",placeholder:"Enter Email",value:this.state.email,onChange:this.handleInputChange,required:!0})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Phone Number"),r.a.createElement("input",{type:"phone_number",name:"phone_number",class:"form-control",placeholder:"Enter Phone Number",value:this.state.phone_number,onChange:this.handleInputChange,required:!0})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Credit Card"),r.a.createElement("input",{type:"credit_card",name:"credit_card",class:"form-control",placeholder:"Enter Credit Card",value:this.state.credit_card,onChange:this.handleInputChange,required:!0})),r.a.createElement("input",{type:"submit",value:"Submit",class:"btn btn-primary"}))))}}]),t}(n.Component);function j(e){return function(t){function a(e){var t;return Object(s.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={redirect:!1},t}return Object(u.a)(a,t),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/v1/user/checkSession").catch((function(t){console.error(t),e.setState({redirect:!0})}))}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(p.a,{to:"/login"}):r.a.createElement(e,this.props)}}]),a}(n.Component)}var O=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){b.a.get("/api/v1/user/logout")}},{key:"render",value:function(){return r.a.createElement(p.a,{to:"/login"})}}]),t}(n.Component),k=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-dark bg-primary"},r.a.createElement(d.b,{to:"/"},r.a.createElement("a",{class:"navbar-brand",href:"#"},"CitiBoard")),r.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{class:"navbar-toggler-icon"})),r.a.createElement("div",{class:"collapse navbar-collapse",id:"navbarColor01"},r.a.createElement("ul",{class:"navbar-nav mr-auto"},r.a.createElement("li",{class:"nav-item active"},r.a.createElement(d.b,{to:"/"},r.a.createElement("a",{class:"nav-link",href:"#"},"Home",r.a.createElement("span",{class:"sr-only"},"(current)")))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.b,{to:"/login"},r.a.createElement("a",{class:"nav-link",href:"#"},"Login"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.b,{to:"/register"},r.a.createElement("a",{class:"nav-link",href:"#"},"Register"))))))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(g.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),b.a.post("/api/v1/admin/authenticate",{username:a.state.username,password:a.state.password}).then((function(e){if(e.data.error)throw new Error(e.data.error);a.setState({redirect:!0})})).catch((function(e){console.error(e),alert(e.message)}))},a.state={username:"",password:"",redirect:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(p.a,{to:"/admin/panel"}):r.a.createElement("div",{class:"jumbotron"},r.a.createElement("h1",{class:"display-3"},"Login"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("fieldset",null,r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"username",class:"form-control",name:"username",placeholder:"Enter Username",value:this.state.username,onChange:this.handleInputChange,required:!0})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter Password",value:this.state.password,onChange:this.handleInputChange,required:!0,class:"form-control"})),r.a.createElement("input",{type:"submit",value:"Submit",class:"btn btn-primary"}))))}}]),t}(n.Component),w=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleInputChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(g.a)({},r,n))},e.onSubmit=function(t){t.preventDefault(),b.a.post("/api/v1/admin/station-simulator",{stationID:e.state.stationID,boardID:e.state.boardID,boardStatus:e.state.boardStatus,userID:e.state.userID}).then((function(t){if(t.data.error)throw e.setState({message:t.data.error,alert:"bad"}),new Error(t.data.error);console.log("insertion worked!"),e.setState({stationID:"",boardID:"",boardStatus:"",userID:"",message:"Update entered",alert:"good"}),e.getInventoryData()})).catch((function(t){console.error(t),e.setState({message:t.message,alert:"bad"})}))},e.getInventoryData=function(){b.a.get("/api/v1/admin/inventory").then((function(t){if(console.log(t),t.data.error)throw e.setState({message:t.data.error,alert:"bad"}),new Error(t.data.error);e.setState({stationInventory:t.data.stations_data})})).catch((function(t){console.error(t),e.setState({message:t.message,alert:"bad"})}))},e.onLoadRandomData=function(t){t.preventDefault(),e.setState({message:"Loading...",alert:"good"}),b.a.post("/api/v1/admin/load-data").then((function(t){if(e.getInventoryData(),console.log(t),t.data.error)throw e.setState({message:t.data.error,alert:"bad"}),new Error(t.data.error);e.setState({message:"Random Data Loaded!",alert:"good"})})).catch((function(t){console.error(t),e.setState({message:t.message,alert:"bad"})}))},e.state={stationID:"",boardID:"",boardStatus:"",userID:"",stationInventory:[],message:"",alert:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getInventoryData()}},{key:"render",value:function(){var e="";""!==this.state.message&&(e=r.a.createElement("div",{class:"alert alert-dismissible alert-".concat("good"===this.state.alert?"success":"warning")},r.a.createElement("button",{type:"button",class:"close","data-dismiss":"alert"},"\xd7"),r.a.createElement("h4",{class:"alert-heading"},"good"===this.state.alert?"Success!":"Error!"),r.a.createElement("p",{class:"mb-0"}," ",this.state.message)));var t=this.state.stationInventory.map((function(e){return r.a.createElement("tr",{class:"table-info",key:e.station_id},r.a.createElement("th",{scope:"row"},e.station_id),r.a.createElement("td",null,e.count))}));return r.a.createElement("div",{class:"container-fluid mt-3 mb-3"},e,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-6"},r.a.createElement("h1",{class:"display-5"},"Station Simulator"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("fieldset",null,r.a.createElement("b",null,"UPDATE:"),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Board"),r.a.createElement("input",{type:"boardID",class:"form-control",name:"boardID",placeholder:"Enter BoardID",value:this.state.boardID,onChange:this.handleInputChange,required:!0})),r.a.createElement("b",null,"AT"),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Station"),r.a.createElement("input",{type:"stationID",name:"stationID",placeholder:"Enter StationID ",value:this.state.stationID,onChange:this.handleInputChange,class:"form-control"})),r.a.createElement("b",null,"WITH"),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Board Status"),r.a.createElement("input",{type:"boardStatus",name:"boardStatus",placeholder:"Enter Board Status ('in_use' or 'parked') ",value:this.state.boardStatus,onChange:this.handleInputChange,required:!0,class:"form-control"})),r.a.createElement("b",null,"BY"),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"User"),r.a.createElement("input",{type:"userID",name:"userID",placeholder:"Enter UserID ",value:this.state.userID,onChange:this.handleInputChange,required:!0,class:"form-control"})),r.a.createElement("input",{type:"submit",value:"Simulate Board Movement",class:"btn btn-primary"})))),r.a.createElement("div",{class:"col-lg-4 offset-lg-1"},r.a.createElement("h1",{class:"display-5"},"Live Inventory"),r.a.createElement("table",{class:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Station ID"),r.a.createElement("th",{scope:"col"},"Count"))),t),r.a.createElement("form",{onSubmit:this.onLoadRandomData},r.a.createElement("input",{type:"submit",value:"Load Random Data",class:"btn btn-success"})))))}}]),t}(n.Component),S=a(20),D=a(17),C=(a(35),a(15)),I=function(e){var t=e.children;return r.a.createElement("div",{className:"control-panel"},t)},P=function(e){function t(e){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.containerComponent||I;console.log(this.props.data);var t=this.props.data.map((function(e){var t=e.s_start-1,a=e.s_end-1;return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"On ".concat(e.date,", ").concat(e.time,":")),r.a.createElement("br",null),"Travelled Between ".concat(C[t].site," and ").concat(C[a].site," in ").concat(e.duration," mins")))}));return r.a.createElement(e,null,r.a.createElement("h3",null,"Historical Report of Board ",this.props.boardID),t)}}]),t}(n.PureComponent);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B={cursor:"pointer",fill:"#d00",stroke:"none"},N=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.size,a=void 0===t?20:t,n=e.onClick;return r.a.createElement("svg",{height:a,viewBox:"0 0 24 24",style:x({},B,{transform:"translate(".concat(-a/2,"px,").concat(-a,"px)")}),onClick:n},r.a.createElement("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\nc0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\nC20.1,15.8,20.2,15.8,20.2,15.7z"}))}}]),t}(n.PureComponent),L=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.info;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,e.site),", ",e.city)),r.a.createElement("img",{width:200,src:e.image}))}}]),t}(n.PureComponent),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).renderCityMarker=function(e,t){return r.a.createElement(D.b,{key:t,longitude:e.longitude,latitude:e.latitude},r.a.createElement(N,{size:20,onClick:function(){return a.setState({popupInfo:e})}}))},a.updateData=function(){var e="/api/v1/admin/historical-reports/".concat(a.props.boardID);console.log(e),b.a.get(e).then((function(e){console.log(e);for(var t=e.data.data,n=[],r=0;r<t.length;r++){var l=t[r],o=l.s_start-1,s=l.s_end-1;if(o!==s){var c=[C[o].longitude,C[o].latitude],i=[C[s].longitude,C[s].latitude];n.push(c),n.push(i)}}console.log(Object(S.a)(a)),a.setState({data:{type:"Feature",geometry:{type:"LineString",coordinates:n}},raw:t})}))},a.state={viewport:{latitude:40.745,longitude:-73.9712,zoom:12},popupInfo:null,data:{type:"Feature",geometry:{type:"LineString",coordinates:[]}},raw:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"renderPopup",value:function(){var e=this,t=this.state.popupInfo;return t&&r.a.createElement(D.c,{tipSize:5,anchor:"top",longitude:t.longitude,latitude:t.latitude,closeOnClick:!1,onClose:function(){return e.setState({popupInfo:null})}},r.a.createElement(L,{info:t}))}},{key:"componentDidMount",value:function(){this.updateData()}},{key:"componentDidUpdate",value:function(e){this.props.boardID!==e.boardID&&this.updateData()}},{key:"render",value:function(){var e=this;return r.a.createElement(D.e,Object.assign({style:{width:"100%",height:"800px"},mapStyle:"mapbox://styles/mapbox/light-v9",accessToken:"pk.eyJ1IjoiZWExNjc2IiwiYSI6ImNrM3hlN2xrZTBqdGszcnBpOXdjZmx1bGEifQ.QkOBRb_HcEVdnanOECp_jA",onViewportChange:function(t){return e.setState({viewport:t})}},this.state.viewport),r.a.createElement(D.d,{id:"route",type:"geojson",data:this.state.data}),r.a.createElement(D.a,{id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#FF5733","line-width":8}}),C.map(this.renderCityMarker),this.renderPopup(),r.a.createElement(P,{containerComponent:this.props.containerComponent,boardID:this.props.boardID,data:this.state.raw}))}}]),t}(n.Component),M=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleInputChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(g.a)({},r,n))},e.generateReports=function(t){t.preventDefault(),b.a.get("/api/v1/admin/generate-reports").then((function(t){if(console.log(t),t.data.error)throw e.setState({message:t.data.error,alert:"bad"}),new Error(t.data.error);e.setState({message:"Reports Generated!",alert:"good"})})).catch((function(t){console.error(t),e.setState({message:t.message,alert:"bad"})}))},e.getHistoricalReport=function(t){t.preventDefault(),e.setState({HRboardID_submit:e.state.HRboardID})},e.state={message:"",alert:"",historical:[],stationRebalancing:[],missingBoards:[],HRboardID:"",HRboardID_submit:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e="";""!==this.state.message&&(e=r.a.createElement("div",{class:"alert alert-dismissible alert-".concat("good"===this.state.alert?"success":"warning")},r.a.createElement("button",{type:"button",class:"close","data-dismiss":"alert"},"\xd7"),r.a.createElement("h4",{class:"alert-heading"},"good"===this.state.alert?"Success!":"Error!"),r.a.createElement("p",{class:"mb-0"}," ",this.state.message)));var t=""!==this.state.HRboardID_submit?r.a.createElement(q,{boardID:this.state.HRboardID_submit}):null;return r.a.createElement("div",{class:"container-fluid mt-3 mb-3"},r.a.createElement("h1",{class:"display-5"},"Reports"),e,r.a.createElement("form",{onSubmit:this.generateReports},r.a.createElement("p",{class:"lead"},r.a.createElement("input",{type:"submit",class:"btn btn-success",value:"Generate Reports"}))),r.a.createElement("hr",{class:"my-4"}),r.a.createElement("div",{class:"card bg-light mb-3"},r.a.createElement("div",{class:"card-header"},"Historical Report"),r.a.createElement("div",{class:"card-body"},r.a.createElement("form",{onSubmit:this.getHistoricalReport},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{name:"HRboardID",placeholder:"Enter Board ID",value:this.state.HRboardID,onChange:this.handleInputChange,required:!0,class:"form-control col-md-2"})),r.a.createElement("p",{class:"lead"},r.a.createElement("input",{type:"submit",class:"btn btn-info",value:"Get Historical Report"}))),r.a.createElement("hr",{class:"my-4"}),t)),r.a.createElement("div",{class:"card bg-light mb-3"},r.a.createElement("div",{class:"card-header"},"Station Rebalancing Report"),r.a.createElement("div",{class:"card-body"},r.a.createElement("p",{class:"card-text"},"Some quick example text to build on the card title and make up the bulk of the card's content."),r.a.createElement("form",{onSubmit:this.rebalanceStations},r.a.createElement("p",{class:"lead"},r.a.createElement("input",{type:"submit",class:"btn btn-info",value:"Rebalance Stations"}))))),r.a.createElement("div",{class:"card bg-light mb-3"},r.a.createElement("div",{class:"card-header"},"Missing Boards Report"),r.a.createElement("div",{class:"card-body"},r.a.createElement("p",{class:"card-text"},"Some quick example text to build on the card title and make up the bulk of the card's content."),r.a.createElement("form",{onSubmit:this.markMissingBoards}))))}}]),t}(n.Component),H=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleInputChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(g.a)({},r,n))},e.onSubmit=function(t){t.preventDefault(),e.getData()},e.getData=function(){b.a.get("/api/v1/admin/peek-database").then((function(t){if(t.data.error)throw e.setState({message:t.data.error,alert:"bad"}),new Error(t.data.error);console.log("refresh worked!"),console.log(t.data),e.setState({usersData:t.data.users_data,stationsData:t.data.stations_data,boardsData:t.data.boards_data,message:"Data Retrieved",alert:"good"})})).catch((function(t){console.error(t),e.setState({message:t.message,alert:"bad"})}))},e.state={usersData:[],stationsData:[],boardsData:[],message:"",alert:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.state.usersData.map((function(e){return r.a.createElement("tr",{class:"table-info",key:e.user_id},r.a.createElement("th",{scope:"row"},e.user_id),r.a.createElement("td",null,e.first_name),r.a.createElement("td",null,e.last_name),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.phone_number),r.a.createElement("td",null,e.credit_card))})),t=this.state.stationsData.map((function(e){return r.a.createElement("tr",{class:"table-info",key:e.station_id},r.a.createElement("th",{scope:"row"},e.station_id),r.a.createElement("td",null,e.location),r.a.createElement("td",null,e.capacity))})),a=this.state.boardsData.map((function(e){return r.a.createElement("tr",{class:"table-info",key:e.board_id},r.a.createElement("th",{scope:"row"},e.board_id),r.a.createElement("td",null,e.station_id),r.a.createElement("td",null,e.user_id),r.a.createElement("td",null,e.board_status),r.a.createElement("td",null,e.last_transaction_date),r.a.createElement("td",null,e.last_transaction_time))})),n="";return""!==this.state.message&&(n=r.a.createElement("div",{class:"alert alert-dismissible alert-".concat("good"===this.state.alert?"success":"warning")},r.a.createElement("button",{type:"button",class:"close","data-dismiss":"alert"},"\xd7"),r.a.createElement("h4",{class:"alert-heading"},"good"===this.state.alert?"Success!":"Error!"),r.a.createElement("p",{class:"mb-0"}," ",this.state.message))),r.a.createElement("div",{class:"container-fluid mt-3 mb-3"},r.a.createElement("h1",{class:"display-5"},"Peek at Database"),n,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("fieldset",null,r.a.createElement("input",{type:"submit",value:"Refresh Data",class:"btn btn-success"})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("h4",null,"Users Table"),r.a.createElement("table",{class:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"User ID"),r.a.createElement("th",{scope:"col"},"First Name"),r.a.createElement("th",{scope:"col"},"Last Name"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"Phone Number"),r.a.createElement("th",{scope:"col"},"Credit Card"))),e)),r.a.createElement("div",null,r.a.createElement("h4",null,"Stations Table"),r.a.createElement("table",{class:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Station ID"),r.a.createElement("th",{scope:"col"},"Location"),r.a.createElement("th",{scope:"col"},"Capacity"))),t)),r.a.createElement("div",null,r.a.createElement("h4",null,"Board Table"),r.a.createElement("table",{class:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Board ID"),r.a.createElement("th",{scope:"col"},"Station ID"),r.a.createElement("th",{scope:"col"},"User ID"),r.a.createElement("th",{scope:"col"},"Board Status"),r.a.createElement("th",{scope:"col"},"Last Transaction Date"),r.a.createElement("th",{scope:"col"},"Last Transaction Time"))),a))))}}]),t}(n.Component);function T(e){return function(t){function a(e){var t;return Object(s.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={redirect:!1},t}return Object(u.a)(a,t),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/v1/admin/checkSession").catch((function(t){console.error(t),e.setState({redirect:!0})}))}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(p.a,{to:"/admin"}):r.a.createElement(e,this.props)}}]),a}(n.Component)}var U=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).call(this))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{class:"jumbotron"},r.a.createElement("h1",{class:"display-3"},"Control Panel"),r.a.createElement("div",{class:"container mt-3"},r.a.createElement(d.b,{to:"".concat(this.props.match.url,"/reports")},r.a.createElement("a",{class:"nav-link",href:"#"},"Reports")),r.a.createElement(d.b,{to:"".concat(this.props.match.url,"/station-simulator")},r.a.createElement("a",{class:"nav-link",href:"#"},"Station Simulator")),r.a.createElement(d.b,{to:"".concat(this.props.match.url,"/peek-database")},r.a.createElement("a",{class:"nav-link",href:"#"},"Peek at Database")),r.a.createElement("hr",{class:"my-4"}),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"".concat(this.props.match.path,"/reports"),component:T(M)}),r.a.createElement(p.b,{path:"".concat(this.props.match.path,"/station-simulator"),component:T(w)}),r.a.createElement(p.b,{path:"".concat(this.props.match.path,"/peek-database"),component:T(H)})))))}}]),t}(n.Component),Y=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){b.a.get("/api/v1/admin/logout")}},{key:"render",value:function(){return r.a.createElement(p.a,{to:"/admin"})}}]),t}(n.Component),W=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-dark bg-primary"},r.a.createElement(d.b,{to:"".concat(this.props.match.url,"/panel"),exact:!0},r.a.createElement("a",{class:"navbar-brand",href:"#"},"CitiBoard Admins")),r.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{class:"navbar-toggler-icon"})),r.a.createElement("div",{class:"collapse navbar-collapse",id:"navbarColor01"},r.a.createElement("ul",{class:"navbar-nav mr-auto"},r.a.createElement("li",{class:"nav-item active"},r.a.createElement(d.b,{to:"".concat(this.props.match.url,"/logout")},r.a.createElement("a",{class:"nav-link",href:"#"},"Logout")))))),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"".concat(this.props.match.path,"/"),exact:!0,component:_}),r.a.createElement(p.b,{path:"".concat(this.props.match.path,"/panel"),component:T(U)}),r.a.createElement(p.b,{path:"".concat(this.props.match.path,"/logout"),component:T(Y)})))}}]),t}(n.Component),z=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=j(f),t=j(O);return r.a.createElement(d.a,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0},r.a.createElement(k,null),r.a.createElement(E,null)),r.a.createElement(p.b,{path:"/login",component:v},r.a.createElement(k,null),r.a.createElement(v,null)),r.a.createElement(p.b,{path:"/register"},r.a.createElement(k,null),r.a.createElement(y,null)),r.a.createElement(p.b,{path:"/profile"},r.a.createElement(k,null),r.a.createElement(e,null)),r.a.createElement(p.b,{path:"/logout"},r.a.createElement(k,null),r.a.createElement(t,null)),r.a.createElement(p.b,{path:"/admin",component:W})))}}]),t}(n.Component);a(66),a(67),a(36),a(68),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.76827218.chunk.js.map